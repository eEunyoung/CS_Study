# 네트워크 연결 구분

네트워크는 규모와 관리 범위에 따라 `LAN`, `MAN`, `WAN` 3가지로 구분된다.

예전에는 `LAN`, `MAN`, `WAN`에서 사용하는 기술이 모두 달라 쉽게 구분할 수 있었지만 현재는 대부분의 기술이 **이더넷으로 통합**되면서 전송 기술로 구분하는 것은 무의미해져 **관리 범위 기준으로 구분**한다.

> **이더넷**
> 원칙적으로 하나의 인터넷 회선에 유/무선 통신장비 공유기, 허브 등을 통해 <span style="background-color: lightyellow">다수의 시스템이 랜선 및 통신포트에 연결되어 통신이 가능한 네트워크 구조</span>를 말한다.

## LAN(Local Area Network)

홈 네트워크용과 사무실용 네트워크처럼 비교적 소규모의 네트워크를 말한다.

먼 거리를 통신할 필요가 없어 <a href='#switch'>스위치</a>와 같이 비교적 간단한 장비로 연결된 네트워크를 `LAN`이라고 부른다.

관리 범위에서의 `LAN`은 자신이 소유한 건물이나 대지에 <span style='color:red'>**직접 구축**</span>한 선로로 동작시키는 네트워크로 정의할 수 있다.

`LAN`은 장치와 <a href='#router'>라우터</a>를 연결하는 케이블을 사용하거나 무선 신호를 통해 형성될 수 있다.

## MAN(Metro Area Network)

`MAN`은 수~수십km 범위의 한 도시를 네트워크로 연결하는 개념이다.

`MAN`네트워크 통신에는 <a href="#light">광섬유 케이블</a> 및 연선 케이블이 사용된다.

다양한 정부 기관은 서로 다른 위치에 있는 부서 사무실 간의 연결을 위해 `MAN` 네트워크를 사용한다.

## WAN(Wide Area Network)

먼 거리에 있는 네트워크를 연결하기 위해 사용된다.

멀리 떨어진 `LAN`을 서로 연결하거나 인터넷에 접속하기 위한 네트워크가 `WAN`에 해당한다.

`WAN`은 보통 통신 사업자로부터 회선을 임대해 사용한다.

# 네트워크 회선

원격지 네트워크에 연결하기 위해서는 `WAN`을 사용해야 한다.

## 인터넷 회선

인터넷 접속을 위해 통신 사업자와 연결하는 회선을 인터넷 회선이라고 부른다.

통신 사업자가 판매하는 인터넷과 연결된 회선을 사용해야지만 인터넷 접속이 가능하다.

일반 가정에서는 <span style="color:red">**전송 선로 공유 기술**</span>을 사용하는데, 이는 아파트에서 통신 사업자까지 연결한 회선을 아파트 가입자들이 공유하는 구조를 말한다.

전송 선로를 공유하므로 일반 인터넷 회선의 속도는 전송 가능한 최대 속도이고 속도를 보장하지 않는다.(주변 사용량에 따라 느려질 수 있다)

### 일반 인터넷 회선 종류

- `광랜(이더넷)`: 기가 ~ 100Mbps
- `FTTH`: 기가 ~ 100Mbps
- `동축 케이블 인터넷`: 수백 ~ 수십Mbps
- `xDSL(ADSL, VDSL 등)`: 수십~ 수Mbps

## 전용 회선

가입자와 통신 사업자 간에 대역폭을 보장해주는 서비스를 대부분 전용 회선이라고 부른다.

### 음성 전송 기술 기반의 저속 회선과 메트로 이더넷의 고속 회선

- **저속**: 음성 전송 기술 기반
  저속 음성 전송 기술은 작은 기본 단위를 묶어 회선 접속 속도를 높이는 방법으로 주로 높은 속도가 필요하지 않을 때나 높은 신뢰성이 필요할 때 사용한다. 이더넷의 발전으로 사용 빈도가 점점 줄어들고 있지만 결재 승인과 같은 전문 전송을 위한 `VAN`사나 대외 연결에 사용하는 경우가 많다.
  이 기술을 사용하려면 원격지 전송 기술로 변환할 수 있는 라우터가 필요하다.

- **고속**: 메트로 이더넷
  고속 연결은 대부분 광케이블 기반의 이더넷을 사용한다.
  가입자와 통신 사업자 간의 접속 기술은 이더넷을 사용하고 통신 사업자 내부에서는 개별 가입자를 묶어 통신할 수 있는 다른 고속 통신 기술을 사용한다.

---

<span style="color:slateblue">**참고: LLCF(Link Loss Carry Forward)**</span>
`LLCF`는 한쪽 링크가 다운되면 이를 감지해 반대쪽 링크도 다운시키는 기능이다.
저속 회선은 `LLCF` 설정이 필요없지만, 이더넷인 경우 `LLCF` 설정이 되어 있는지 확인해야 한다.

## 인터넷 전용 회선

인터넷 연결 회선에 대한 통신 대역폭을 보장해주는 상품을 인터넷 전용 회선이라고 한다. 가입자와 통신 사업자가 연결되고 이 연결이 다시 인터넷과 연결된다.
최근 인터넷 전용 회선 기술은 이더넷이 가장 많이 쓰인다.

## VPN(Virtual Private Network)

`VPN`은 물리적으로는 전용선이 아니지만 가상으로 직접 연결한 것 같은 효과가 나도록 만들어주는 네트워크 기술이다. `VPN`은 개인 데이터를 암호화하고 IP주소를 마스킹해서 데이터를 안전하게 전송할 수 있다.

### 통신 사업자 VPN

전용선은 연결 거리가 늘어날수록 비용이 증가한다.
통신 사업자는 비용을 줄여서 먼거리와 연결하기 위해 `VPN`을 사용해서 비용을 낮추고 있다. 가장 대표적인 기술이 `MPLS VPN`인데, 여러 가입자가 하나의 망에서 통신하므로 비용이 낮아진다.

### 가입자 VPN

일반 인터넷망을 이용해 사용자가 직접 가상 전용 네트워크를 구성할 수 있다.
가입자 `VPN`은 비용을 낮추기 위해 일반 인터넷 연결을 사용한다.

### DWDM

`WDM` 기술은 하나의 광케이블에 다른 파장의 빛을 통해 여러 채널을 만드는 동시에 많은 데이터를 전송할 수 있는 기술이다. `DWDM` 전송 기술은 기존 `WDM`보다 더 많은 채널을 이용한다.

# 네트워크 구성 요소

![](https://velog.velcdn.com/images/developer-sora/post/7d7a8372-586d-4392-8a53-1e9cdd5d4add/image.png)

## 네트워크 인터페이스 카드(NIC)

흔히 랜카드라고 불리며 **컴퓨터를 네트워크에 연결하기 위한 하드웨어 장치**를 말한다. 주로 온보드 형태로 내장되어 있지만 여러 네트워크에 동시에 연결되어야 하거나 더 높은 대역폭이 필요한 경우 네트워크 인터페이스 카드를 추가로 장착하기도 한다.

### 주요 역할

- **직렬화**
  전기적 신호 $\rarr$ 데이터 신호 or 데이터 신호 $\rarr$ 전기적 신호 형태로 변환
- **MAC 주소**
  네트워크 인터페이스 카드는 `MAC`주소를 갖고 있어서 받은 패킷의 도착지 주소가 자신의 `MAC`주소가 아니면 폐기하고 맞으면 전달
- **흐름 제어**
  이미 통신 중인 데이터 처리 때문에 데이터를 받지 못할때 상대방에게 통신 중지를 요청할 수 있다.

## 케이블과 커넥터

**신뢰도가 높은 통신**이 필요한 경우 유선이 사용된다. 케이블은 거리나 속도, 용도에 따라 다양한 케이블이 있기 때문에 원하는 환경에 맞는 케이블을 선택하려면 케이블을 구성하는 기본 요소와 표준을 알아야 한다.

### 이더넷 네트워크 표준

현재 가장 많이 사용되는 네트워크 기술은 이더넷 방식이다. 현재 대중화되어 있는 이더넷 표준은 기가 비트 이더넷(일반 PC)과 10기가 비트 이더넷(데이터 센터 서버)이다.

<span style="textAlign:center; display:block">
  <strong>1,000 BASE - T</strong></br>
  
<span style="background:lightgrey; color:red">1,000</span>Mbps : 속도
<span style="background:lightgrey; color:red">BASE</span> : 채널(단일)
<span style="background:lightgrey; color:red">T</span>wisted Pair  : 케이블 타입
</span>

대중적으로 많이 사용하는 표준 3가지

- **1,000BASE-T/10GBASE-T**
  트위스티드 페어 케이블, 기가 이더넷 표준
- **1,000BASE-SX/10GBASE-SR**
  멀티모드 광케이블, 비교적 짧은 거리
- **1,000BASE-LX/10GBASE-LR**
  싱글모드 광케이블, 비교적 긴 거리

### 케이블, 커넥터 구조

케이블은 케이블 본체, 커넥터, 트랜시버와 같은 요소로 나뉜다.
케이블 본체는 트위스티드 페어, 동축, 광케이블로 나뉘고 케이블 본체의 종류에 따라 커넥터와 트랜시버의 종류도 달라진다.

### 케이블 - 트위스티드 페어 케이블

트위스티드 페어 케이블은 가장 흔히 사용하는 케이블이다. 쉴드를 장착한 `STP(그물)/FTP(포일)` 케이블과 쉴드가 없는 `UTP` 케이블이 있다. <a href="#rj45">RJ-45 커넥트</a>를 이용하고 케이블 본체와 함께 연결되어 분리할 수 없다.
![](https://velog.velcdn.com/images/developer-sora/post/6606c54b-00ad-438e-9815-05a74cae98e4/image.png)

`UTP` : 쉴드가 없는 케이블
`FTP` : 포일이 있는 케이블
`S/FTP` : 이중 차폐와 접지선, 외부 실드가 있는 케이블

케이블 등급

- 5E 케이블
  1G 속도를 지원하는 대중적인 케이블

### 케이블 - 동축 케이블

![](https://velog.velcdn.com/images/developer-sora/post/6169c60d-9e13-4338-911f-53f6590fea6f/image.png)

동축 케이블은 케이블 TV와 연결할 때 사용하는 두꺼운 검정 케이블과 같은 종류이다. 최근 10G 이상의 고속 연결을 위해 트랜시버를 통합한 동축 케이블 중 하나인 `DAC`(Direct Attach Copper Cable) 케이블을 많이 사용한다.

### 케이블 - 광케이블

광케이블은 신뢰도가 높고 먼 거리까지 통신할 수 있어 높은 대역폭을 요구하거나 먼 거리를 통신해야 하는 **네트워크 장비 간의 통신**에 주로 사용된다.
광케이블은 싱글모드와 멀티모드로 나뉜다.

![](https://velog.velcdn.com/images/developer-sora/post/666aa766-2921-4420-9caf-c9987f4fb0e2/image.png)

- <span style="background-color:#FFFF66">싱글모드</span>
  먼거리 통신을 위한 가는 케이블, 레이저 광원, 고가, 노란색
- <span style="background-color:skyblue">멀티</span><span style="background-color:#ffb266">모드</span>
  굵은 케이블, LED 광원, 저가, 하늘색(10G), 주황색(1G)

### 커넥터

커넥터는 케이블의 끝부분으로 네트워크 장비나 네트워크 카드에 연결되는 부분이다.
![](https://velog.velcdn.com/images/developer-sora/post/b0e76ba5-c2ab-47c5-9fc9-bf2385be4c52/image.png)

트위스티드 페어 케이블 커넥터 <span id="rj45">`RJ-45`</span>

![](https://velog.velcdn.com/images/developer-sora/post/be990eb7-9e1f-4d79-b311-e8413d45b45f/image.png)

광케이블은 주로 `LC` 커넥터가 사용되고 `SC` 커넥터가 일부 사용된다.

### 트랜시버

트랜시버는 다양한 외부 신호를 컴퓨터 내부의 전기 신호로 바꾸어준다.
서로 다른 다양한 네트워크 표준을 혼용해 사용할 수 있다.

- GBIC(GigaBit Interface Converter)
  SC 타입의 커넥터 연결 가능

- SFP, SFP+
  LC 타입의 커넥터 연결 가능

- GLC-TE
  트위스티드 페어 케이블 수용 가능

## 허브

허브는 케이블과 동일한 <span style="background-color:navy; color:white">**1계층**</span>에서 동작하는 장비이다. 허브는 거리가 멀어질수록 줄어드는 전기 신호를 재생성해주고 여러 대의 장비를 연결할 목적으로 사용된다.
하지만 현재는 네트워크 성능 문제와 다양한 장애의 원인이 되어 거의 사용되지 않고 있다.

<h2 id='switch'>스위치</h2>

스위치는 허브와 동일하게 여러 장비를 연결하고 통신을 중재하는 <span style="background-color:purple; color:white">**2계층**</span> 장비이다. 허브와 스위치는 내부 동작 방식은 다르지만 여러 장비를 연결하고 케이블을 한 곳으로 모아주는 역할은 같으므로 **허브**라는 용어를 공통적으로 사용한다.

### 허브와 스위치의 차이점

허브는 모든 포트에 전기 신호를 보내지만
스위치는 `MAC` 주소를 이해할 수 있어 목적지 주소를 인지해 정확한 목적지로만 전기 신호를 보낸다.

<h2 id='router'>라우터</h2>

라우터는 컴퓨터 네트워크 간에 데이터 패킷을 전송하는 네트워크 장치를 말한다.

라우터는 OSI 7계층 중 <span style="background-color:skyblue">**네트워크(L3)계층**</span>에서 동작하면서 먼 거리로 통신할 수 있는 프로토콜로 변환한다. `L3` 계층에 속하다보니 `L3스위치`라고도 부르는 편이다.(최근 L3 스위치는 라우팅 기능도 포함하고 있어 라우터와 동일하게 취급받는다)

라우터는 원격지로 쓸데없는 패킷이 전송되지 않도록 브로드캐스트와 멀티캐스트를 컨트롤하고 불분명한 주소로 통신을 시도할 경우 이를 버린다.
정확한 방향으로 패킷이 전송되도록 경로를 지정하고 최적의 경로로 패킷을 포워딩한다.

### 스위치와 라우터의 차이점

라우터는 인터넷 연결에 필요하고, 스위치는 장치를 상호 연결하는 데 사용된다. 가정과 소규모 사무실에는 인터넷 액세스를 위한 라우터가 필요하지만, 많은 양의 이더넷 포트가 필요하지 않는 한 네트워크 스위치가 필요하지 않다.

### 실생활 예시

공인 IP 주소를 이용해서 여러 기기(노트북, 핸드폰)등을 연결해서 쓰고 싶을 때, 하나의 공인 IP를 공유해주는 장치(공유기)

## 로드 밸런서

로드 밸런서는 OSI7 계층중 <span style="background-color:lightgreen">**4계층**</span>에서 동작한다.

로드 밸런서는 4계층 포트 주소를 확인하는 동시에 IP 주소를 변경할 수 있다. 로드 밸런서가 가장 많이 사용되는 서비스는 **웹**이다.

웹 서버를 증설하고 싶을 때 로드 밸런서를 웹 서버 앞에 두고 웹 서버를 여러 대로 늘려준다. 대표 IP는 로드 밸런스가 갖고 로드 밸런서가 각 웹 서버로 패킷의 목적지 IP 주소를 변경해 보내주면 여러 대의 웹 서버가 동시에 동작해 서비스 성능을 높여주는 동시에 일부 웹 서버에 문제가 발생하더라도 빠른 시간 안에 서비스가 복구되도록 도와준다.

### 로드 밸런서 종류

7계층 로드 밸런서는 `ADC`라고 부르고, `L4스위치`는 스위치 처럼 여러 포트를 갖고 있으면서 로드 밸런서 역할을 한다.

## 보안 장비(방화벽/IPS)

### 방화벽

방화벽은 OSI 7계층중 4계층에서 동작해 방화벽을 통과하는 패킷의 3,4계층 정보를 확인하고 패킷을 정책과 비교해 버리거나 포워딩한다.

### IDS

컴퓨터 시스템의 비정상적인 사용, 오용, 남용 등을 실시간으로 탐지하는 시스템

### IPS

`IDS`에서 공격 방지의 기능이 통합된 장비로써 비정상적인 트래픽이나 공격 패킷이 유입되면 자체적으로 제거한다.

## 기타(모뎀/공유기 등)

### 공유기

가정이나 작은 회사에서 사용하는 공유기는 2계층 스위치, 3계층 라우터, 4계층 NAT와 간단한 방화벽 기능을 한곳에 모아둔 장비이다. 공유기 내부는 스위치와 무선 AP, 라우터 부분으로 구분된다.

### 모뎀

모뎀은 짧은 거리를 통신하는 기술과 먼 거리를 통신할 수 있는 기술이 달라 이 기술들을 변환해주는 장비이다.
