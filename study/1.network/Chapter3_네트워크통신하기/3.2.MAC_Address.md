## 3장 네트워크 통신하기
-----------------------------------
-----------------------------------
### 2. MAC 주소
>##### &nbsp; 2계층에서 통신을 위해 네트워크 인터페이스에 할당된 고유 식별자이다.

#### &nbsp; 1) MAC 주소 체계 
##### &nbsp; &nbsp; (1) MAC 주소
##### &nbsp; &nbsp; &nbsp; - 변경할 수 없도록 하드웨어에서 고정으로 출하되므로 네트워크 구성 요소마다 다른 주소를 가지고 있다.
##### &nbsp; &nbsp; &nbsp; - 한 제조업체에 하나 이상의 주소 풀을 주고 그 풀 안에서 각 제조업체가 자체적으로 MAC 주소를 할당한다.
##### &nbsp; &nbsp; &nbsp; - 제조사 코드 : 네트워크 장비 제조업체에 주소 풀을 할당하는 것, IEEE 국제기구에서 관리한다.
##### &nbsp; &nbsp; &nbsp; - 각 네트워크 장비 제조업체 코드와 제조업체가 자체적으로 할당한 값으로 구성한다.
##### &nbsp; &nbsp; &nbsp; - 네트워크 카드나 장비를 생산할 때 하드웨어적으로 정해져 나오므로 MAC 주소를 BIA(Burned-In Address)라고도 부른다.
##### &nbsp; &nbsp; (2) MAC 주소 체계
![MAC 주소 체계](https://images.velog.io/images/satoshi25/post/9d8eb7cb-4e14-4585-89e1-51130fa80c59/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-09-13%20%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB%2010.23.47.png) 
##### &nbsp; &nbsp; &nbsp; - 48비트의 16진수 12자리
##### &nbsp; &nbsp; &nbsp; - 48비트를 다시 앞 24비트(OUI)와 뒤 24비트(UAA)로 나누어 구분한다.
##### &nbsp; &nbsp; &nbsp; - OUI : 제조사 코드 
##### &nbsp; &nbsp; &nbsp; - UAA : 각 제조사에서 자체적으로 할당하여 네트워크에서 각 장비 구분한다.
#####  &nbsp; &nbsp; (3) 유일하지 않은 MAC 주소
##### &nbsp; &nbsp; &nbsp; - MAC 주소는 유일한 값이라고 생각하지만 유일하지 않을 수도 있다.
##### &nbsp; &nbsp; &nbsp; - UAA 값을 할당하는데 실수나 의도적으로 MAC 주소가 중복이 될 수 있다.
##### &nbsp; &nbsp; &nbsp; - 동일한 네트워크에서만 중복되지 않으면 동작하는데 문제가 없다.
##### &nbsp; &nbsp; &nbsp; - 네트워크가 달라 라우터의 도움을 받는다면 라우터에서 다른 네트워크로 넘겨줄 때 출발지와 도착지의 MAC 주소가 변경된다.
#####  &nbsp; &nbsp; (4) MAC 주소 변경
##### &nbsp; &nbsp; &nbsp; - MAC 주소는 BIA 상태로 NIC에 할당되어 있다.
##### &nbsp; &nbsp; &nbsp; - 일반적으로 ROM 형태로 고정되어 출하되므로 NIC에 고정된 MAC 주소를 변경하기 어렵다.
##### &nbsp; &nbsp; &nbsp; - 하지만 MAC 주소도 메모리에 적재되어 구동되므로 여러 방법들을 이용해 MAC 주소를 변경하여 NIC를 동작 시킬 수 있다.
  </br>
  
#### &nbsp; 2) MAC 주소 동작
#####  &nbsp; &nbsp; (1) MAC 주소 동작
> ##### &nbsp; &nbsp; $nbsp; ① NIC은 자신의 MAC 주소를 가지고 있고 전기 신호가 들어오면 2계층에서 데이터 형태(패킷)로 변환하여 내용을 구분한 후 도착 MAC 주소를 확인한다.
> ##### &nbsp; &nbsp; $nbsp; ② 도착지 MAC 주소가 자신이 갖고 있는 주소와 다르면 패킷을 폐기한다.
> ##### &nbsp; &nbsp; $nbsp; ③ 패킷의 목적지 주소가 자기 자신이거나 브로드캐스트, 멀티캐스트와 같은 그룹 주소이면 처리해야할 주소로 인지해 패킷 정보를 상위 계층으로 넘긴다.
> ##### &nbsp; &nbsp; $nbsp; ④ 본인의 주소, 브로드캐스트 주소는 NIC 자체적으로 패킷을 처리하는 것이 아니라 OS나 애플리케이션에서 처리해야 한다 => 시스템에 부하가 발생한다.
##### &nbsp; &nbsp; (2) 무차별 모드
##### &nbsp; &nbsp; &nbsp; -다른 목적지를 가진 패킷을 분석하거나 수집해야 할 경우, 무차별 모드로 NIC을 구성한다.
##### &nbsp; &nbsp; &nbsp; - 무차별 모드는 자신의 MAC 주소와 상관없는 패킷이 들어와도 이를 분석할 수 있도록 메모리에 올려서 철기할 수 있게 한다.
##### &nbsp; &nbsp; &nbsp; - 대표적인 애플리케이션 : 와이어샤크(네트워크 패킷 분석)
##### &nbsp; &nbsp; (3) MAC 주소를 여러 개 갖는 경우
##### &nbsp; &nbsp; &nbsp; - MAC 주소는 단말에 종속되지 않고 NIC에 종속된다
##### &nbsp; &nbsp; &nbsp; - 단말은 NIC를 여러 개 가질 수 있으므로 MAC 주소도 여러 개 가질 수 있다.

-----------------------------------