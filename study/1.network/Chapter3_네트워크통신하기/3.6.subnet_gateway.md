## 3장 네트워크 통신하기
-----------------------------------
-----------------------------------
### 6. 서브넷과 게이트웨이
##### &nbsp; 1) 서브넷과 게이트웨이의 용도
##### &nbsp; &nbsp; (1) 게이트웨이
&nbsp; &nbsp; ![통신](data:image/jpeg;base64,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)
##### &nbsp; &nbsp; &nbsp; - 브로드캐스트의 성질 때문에 원격 네트워크 통신시 통신 문제가 발생하여 네트워크 장비인 '게이트웨이'의 도움이 필요하다.
##### &nbsp; &nbsp; &nbsp; - 기본 게이트웨이
##### &nbsp; &nbsp; &nbsp; &nbsp; : 게이트웨이에 대한 정보를 PC나 네트워크 장비에 설정하는 항목이다.
##### &nbsp; &nbsp; &nbsp; &nbsp; : 3계층 장비가 수행하고 여러 네트워크와 연결되면서 적절한 경로를 지정해주는 역할을 한다.
##### &nbsp; &nbsp; (2) 서브넷마스크
##### &nbsp; &nbsp; &nbsp; - 동일 네트워크 간의 통신과 서로 다른 네트워크 간의 통신을 구분하기 위해 사용되는 것이다.
##### &nbsp; &nbsp; (3) 프록시 ARP
##### &nbsp; &nbsp; &nbsp; - ARP를 대행해주는 기능이다.
##### &nbsp; &nbsp; &nbsp; - 라우터에 기본으로 활성화가 되어있어 사용자 몰래 동작하는 경우가 많다.
</br>

##### &nbsp; 2) 2계층 통신 vs 3계층 통신
&nbsp; &nbsp; ![L2,L3](https://chaelin1211.github.io/img/posts/inPost/l2%20l3%20communication.png)
##### &nbsp; &nbsp; (1) L2 통신 
##### &nbsp; &nbsp; &nbsp; - 단말 간을 연결해주는 네트워크 장비에서 2계층 정보까지만 정보를 통신하고 ARP 요청을 보낼 때 직접 브로드캐스트를 이용한다.
##### &nbsp; &nbsp; (2) L3 통신 
##### &nbsp; &nbsp; &nbsp; - 원격지 네트워크와 통신해야 할 경우 3계층의 장비의 도움이 없으면 통신할 수 없다. 해당 패킷을 전송하는 네트워크 장비에서 3계층 정보까지 확인한다.
##### &nbsp; &nbsp; (3) L2, L3 통신에 따른 ARP 요청 
&nbsp; &nbsp; ![network arp](https://t1.daumcdn.net/cfile/tistory/265C794055DD35F801)
##### &nbsp; &nbsp; &nbsp; - 동일 네트워크
##### &nbsp; &nbsp; &nbsp; &nbsp; : 직접적으로 이루어진다.
##### &nbsp; &nbsp; &nbsp; &nbsp; : 상대방의 MAC 주소를 알아내기 위해 ARP 브로드캐스트를 이용하고 상대방의 MAC 주소를 알아내자마자 패킷이 캡슐화되어 통신이 시작된다.
##### &nbsp; &nbsp; &nbsp; &nbsp; : 도착지 MAC 주소와 도착지 IP 주소가 같다.
##### &nbsp; &nbsp; &nbsp; - 원격 네트워크
##### &nbsp; &nbsp; &nbsp; &nbsp; : ARP 요청을 기본 게이트웨이의 IP 주소로 요청한다.
##### &nbsp; &nbsp; &nbsp; &nbsp; : 게이트웨이에서 ARP 응답을 받은 단말은 도착지 MAC 주소에 응답 받은 기본 게이트웨이의 MAC 주소를 적어놓고 통신한다.
##### &nbsp; &nbsp; &nbsp; &nbsp; : 도착지 MAC 주소와 도착지 IP 주소가 다르다. 도착지 IP 주소는 실제 도착지이고 도착지 MAC 주소는 디폴트 게이트웨이의 MAC 주소가 사용된다.