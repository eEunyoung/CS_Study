## NoSQL

1. NoSQL의 등장<br>
NoSQL은 Not Only SQL의 약자로 관계 데이터베이스만 고집하지 말고 필요에 따라 다른 특성을 제공하는 데이터베이스를 사용하는 것이 좋다는 의미로 이해하는 것이 적절하다.
<br><br>
관계 데이터베이스는 정형화된 데이터를 저장하기 때문에 데이터의 형태와 크기를 미리 정하고 테이블 단위로 구분하여 데이터를 저장할 수 있다. 그리고 트랜잭션을 통해 ACID(원자성, 일관성, 격리성, 지속성)를 보증하여 안정적인 데이터 관리가 가능하고, 조인을 포함해 복잡한 조건을 포함하는 데이터 검색이 가능하다는 장점도 존재한다.
<br><br>
이미지, 동영상 같은 멀티미이더 데이터뿐 아니라, SNS를 통해 작성되는 자유로운 형태의 텍스트와 로그 기록 같은 다양한 유형의 비정형 데이터가 빠른 속도로 대량 생산되고 있다. 이런 환경에서 관계 데이터베이스의 장점을 유지하려면 엄청나게 많은 비용이 든다. 특히, 여러 컴퓨터가 연결되어 하나의 시스템을 구성하는 클러스터 환경에서는 확장성이 무엇보다 중요한데 단일 컴퓨터 환경에서 주로 사용되는 관계 데이터베이스는 클러스트 환경에서 효율적으로 동작하도록 설계되지 않았다는 문제점도 지니고 있다.
<br><br>
웹에서 대량의 비정형 데이터의 저장과 처리를 위해 관계 데이터베이스를 대신할 새로운 대안으로 제시된 것이 NoSQL이다. 실제로 소셜 네트워크 서비스를 제공하는 기업들을 중심으로 NoSQL 관련 기술이 발전해왔다.

2. NoSQL의 특징<br>
NoSQL은 빠른 속도로 생성되는 대량의 비정형 데이터를 저장하고 처리하기 위해 ACID를 위한 트랜잭션 기능을 제공하지 않는 대신, 저렴한 비용으로 여러 대의 컴퓨터에 데이터를 분산&bull;저장&bull;처리하는 것이 가능한 데이터베이스이다.
<br><br>
NoSQL은 관계 모델보다 더 융통성 있는 데이터 모델을 사용하고 스키마 없이 동작하기 때문에 데이터 구조를 미리 정의할 필요가 없고, 수시로 그 구조를 바꿀 수 있어서 비정형 데이터를 저장하기에 적합하며 대부분 오픈 소스로 제공된다.
<br><br>
NoSQL을 관계 데이터베이스의 경쟁자로 볼 필요는 없다. 관계 데이터베이스와 NoSQL의 사용 목적이 다르기 때문에 NoSQL이 관계 데이터베이스를 완전히 대체하기는 어렵다. 구조적인 언어 SQL을 이용해 조인과 같이 복잡한 조건을 기반으로 원하는 데이터를 검색하기 좋은 관계 데이터베이스와 달리, NoSQL은 데이터 마이닝과 같은 별도의 분석 기술을 적용해 숨겨진 의미를 찾아내야 한다.
<br><br>
1&rpar; 장점<br>
&nbsp;-&nbsp; RDBMS에 비해 저렴한 비용으로 분산처리와 병렬 처리 가능하다.<br>
&nbsp;-&nbsp; 비정형 데이터 구조 설계로 설계 비용이 감소한다.<br>
&nbsp;-&nbsp; Big Data 처리에 효과적<br>
&nbsp;-&nbsp; 가변적인 구조로 데이터 저장이 가능<br>
&nbsp;-&nbsp; 데이터 모델의 유연한 변화가 가능<br>
<br>
2&rpar; 단점<br>
&nbsp;-&nbsp; 데이터 업데이트 중 장애가 발생하면 데이터 손실 발생 가능<br>
&nbsp;-&nbsp; 많은 인덱스를 사용하려면 충분한 메모리가 필요. 인덱스 구조가 메모리에 저장<br>
&nbsp;-&nbsp; 데이터 일관성이 항상 보장되지 않음<br>
<br>
CAP 정리(브루어의 정리)
&nbsp;-&nbsp; 다음과 같은 세 가지 조건을 모두 만족하는 분산 컴퓨터 시스템이 존재하지 않음을 증명한 정리이다.
1. 일관성(Consistency) : 모든 노드가 같은 순간에 같은 데이터를 볼 수 있다.
2. 가용성(Availability) : 모든 요청이 성공 또는 실패 결과를 반환할 수 있다.
3. 분산 허용(Partitioning tolerance) : 메시지 전달이 실패하거나 시스템 일부가 망가져도 시스템이 계속 동작할 수 있다.
-> RDBMS는 일관성과 가용성을 만족하나, NoSQL은 가용성과 분산 허용을 만족하는 제품군과 일관성, 분산 허용을 만족하는 제품군으로 나눌 수 있다.

관계 데이터베이스와 NoSQL의 비교

|구분|관계 데이터베이스|NoSQL|
|------|---|---|
|처리 데이터|정형 데이터|정형 데이터, 비정형(반정형 포함) 데이터|
|대용량 데이터|대용량 처리 시 성능 저하|대용량 데이터 처리 지원|
|스키마|미리 정해진 스키마가 존재|스키마가 없거나 변경이 자유로움|
|트랜잭션|트랜잭션을 통해 일관성 유지를 보장함|트랜잭션을 지원하지 않아 일관성 유지를 보장하기 어려움|
|검색 기능|조인 등의 복잡한 검색 기능 제공|단순한 데이터 검색 기능 제공|
|확장성|클러스터 환경에 적합하지 않음|클러스터 환경에 적합함|
|라이선스|고가의 라이선스 비용|오픈 소스|
|대표적 사례|Oracle, MySQL, MS SQL 서버 등|카산드라, 몽고DB, H베이스 등|

3. NoSQL의 종류<br>
NoSQL은 어떤 데이터 모델로 데이터를 저장하느냐에 따라 종류를 분류할 수 있다.
<br><br>
1&rpar; 키-값(key-value) 데이터베이스<br>
NoSQL의 가장 단순한 형태로, 키와 값의 쌍으로 데이터가 저장된다. 어떠한 형태의 값도 저장할 수 있고 질의 처리 속도도 빠르다. 다만, 키를 통해 특정 값을 지정하기 때문에 키를 이용해 값 전체를 검색할 수는 있지만 값의 일부를 검색하거나 값의 내용을 이용한 질의는 할 수 없고 별도의 처리가 필요하다.<br>
예&rpar; 아마존의 다이나모DB(DynamoDB)와 트위터의 레디스(Redis)등이 대표적이다.<br><br>
2&rpar; 문서 기반(document-based) 데이터베이스<br>
키-값 데이터 모델이 확장된 형태로, 키와 문서의 쌍으로 데이터를 저장한다. 트리 형태의 계층적 구조가 존재하는 JSON, XML 등과 같은 반정형 형태의 문서로 데이터를 저장한다. 문서는 객체지향에서 객체의 개념과 유사하다. 키를 통해 문서 전체를 검색하는 것도 가능하지만 XQuery와 같은 특별한 문서 대상 질의 언어를 이용하면 문서 내의 일부를 검색하거나 질의에 활용할 수 있다.
예&rpar; 몽고DB(Mongo DB)와 카우치DB(CouchDB)등이 대표적이다.<br><br>
3&rpar; 컬럼 기반(column-based) 데이터베이스<br>
관계 데이터 모델의 테이블과 비슷한 컬럼 패밀리와 키의 쌍으로 데이터를 저장한다. 컬럼 패밀리는 관련 있는 컬럼 값들이 모여서 구성되는데, 컬럼의 이름과 값이 모여 있는 모습이 마치 테이블에서 속성의 이름과 값이 모여 있는 모습과 유사해 보인다. 컬럼 패밀리는 테이블에서 1개의 튜플을 구성하는 속성들의 모임으로 생각할 수 있고 각 행을 구분하는 키로 각 컬럼 패밀리를 식별한다. 다양한 형태의 데이터를 값으로 저장할 수 있고 컬럼 패밀리, 즉 행마다 컬럼의 구성을 다르게 할 수 있다.
예&rpar; 구글의 빅테이블(BigTable), H베이스(HBase), 카산드라(Cassandra)등이 대표적이다.<br><br>
4&rpar; 그래프 기반(graph-based) 데이터베이스<br>
그래프 데이터 모델은 관계 데이터 모델과 비슷하게 데이터는 물론 데이터 간의 관계를 표현하는 데 적합하다. 노드에 데이터를 저장하고 간선으로 데이터 간의 관게를 표현하는 그래프의 형태로, 질의는 그래프 순회 과정을 통해 처리한다. 다른 NoSQL 데이터 모델과 달리 트랜잭션을 통해 ACID를 지원하며 클러스터 환경에는 적합하지 않다. 연관 데이터를 추천해주거나 소셜 네트워크에서 친구 찾기 질의를 효율적으로 수행하는 데 적합한 데이터베이스이다.
에&rpar; 네오포제이(Neo4J), 오리엔트DB(OrientDB), 아젠스크래프(AgensGraph)등이 대표적이다.

4. 빅데이터 분석 기술 : 데이터 마이닝<br>
1&rpar; 데이터 분석의 개념<br>
데이터 과학에서 분석 기술은 엄청나게 쌓여 있는 데이터 안에 숨겨진 유용한 정보, 즉 지식을 찾아내기 위해 가공하는 역할을 담당한다. 데이터베이스에서 SQL문을 통해 자신이 원하는 데이터를 추출하여 분석했다면 그것 또한 데이터 분석 기술이라 할 수 있다.<br>
지금의 데이터 과학에서는 쉽게 추출할 수 없는 규칙과 패턴을 찾아 복잡한 문제를 해결하는 데 필요한 의사 결정에 도움이 되는 수준을 요구한다.<br>
빅데이터를 대상으로 한 데이터 분석 기술은 기존의 정형화된 데이터보다 다양한 형태의 비정형 데이터를 기반으로 엄청난 양의 데이터를 처리한다는 특징이 있다.<br><br>
2&rpar; 기계 학습과 데이터 마이닝<br>
빅데이터 분석에 많이 사용되는 대표적인 기술로 데이터 마이닝(data mining)과 기계 학습(machine learning)이 있다. 데이터 마이닝과 기계 학습은 초점을 어디에 두느냐에 따라 구분할 수 있다. 분석 목적을 발견에 두는 것이 데이터 마이닝이고, 예측에 두는 것이 기계 학습이다.<br>
수집된 데이터에서 숨겨진 규칙과 패턴을 찾아 가치 있는 유용한 정보, 즉 지식을 발견하는 것이 데이터 마이닝이라면, 기계 학습은 수집된 데이터로 프로그램을 학습시켜서 유사한 상황의 새로운 데이터가 입력되었을 때 결과를 예측하는 것이다.<br><br>
3&rpar; 데이터 마이닝의 분석 기법<br>
&lpar;1&rpar; 분류 분석(classification analysis)<br>
새로운 데이터가 어떤 그룹 또는 등급에 속하는지를 판단하는 데 사용되는 분석 기법이다.<br>
예를 들어, 의사가 기존 환자들의 데이터를 토대로 새로운 환자의 증상을 듣고 병명을 진단하는 것이 분류 분석에 해당한다.
<br><br>
&lpar;2&rpar; 군집 분석(cluster analysis)<br>
미리 정해진 기준이 없는 상태에서 유사한 특성을 공유하는 데이터들을 여러 개의 독립적인 군집으로 나누는 것이다.<br>
예를 들어, 성격적 특징에 따라 심리학적으로 유사한 사람들의 집단을 나누는 것을 생각해볼 수 있다.<br>
군집 분석에는 계층적 군집 분석과 비계층적 군집 분석이 있는데 계층적 군집 분석은 가장 유사한 데이터를 묶어나가는 과정을 반복하면서 원하는 개수의 군집을 형성하는 방법이다. 비계층적 군집 분석은 데이털르 군집으로 나눌 수 있는 모든 방법을 생각해본 후 가장 최적화된 군집을 형성하는 방법이다.
<br><br>
&lpar;3&rpar; 연관 분석(association analysis)<br>
연관 분석은 데이터 마이닝의 대표적인 분석 기법으로, 장바구니 분석(market basket analysis)이라고도 한다. 데이터 간의 발생 빈도를 분석하여 그 속에 숨겨진 연관 규칙(association rule)을 파악하는 방법으로, 상품이나 서비스 간의 연관 관계를 분석하여 마케팅에 주로 활용한다.<br>
예를 들어, 동시 구매가 자주 발생하는 상품들의 연관 규칙을 파악하면 해당 상품들을 묶음으로 판매하거나 인접한 진열대에 두어 매출을 올릴 수 있다.<br>
대표적인 연관 분석 방법으로 Apriori 알고리즘이 있다.
<br><br>

* 출처<br>
https://wikidocs.net/190247 <br>
https://shuu.tistory.com/135 <br>
https://velog.io/@soongjamm/Eventual-Consistency-란 <br>
https://pinopino.tistory.com/entry/5-SQL-vs-NoSQL-비교-리플리케이션-클러스터링-샤딩